<%- include ('partials/_header.ejs') %>

<div class="container mt-5">
    <div class="row">
        <div class="col-md-8">
            <thead>
                <table class="table table-bordered table-hover">
                    <tr>
                        <td>ID</td>
                        <td>Restaurant</td>
                        <td>City</td>
                        <td>Address</td>
                        <td>Rating</td>
                        <td>Review</td>
                        <td>Actions</td>
                    </tr>
            </thead>
            <tbody>
                <!-- Loop through to display data -->
                <% if (data) { %>
                <% for (let i = 0; i < data.length; i++) { %>
                <tr>
                    <td><%= (i + 1) %></td>
                    <td><%= data[i].restaurantName %></td>
                    <td><%= data[i].city %></td>
                    <td><%= data[i].address %></td>
                    <td><%= data[i].rating %></td>
                    <td><%= data[i].review %></td>
                    <td>
                        <a href="/crud/update/<%= data[i].id %>" class="btn btn-info">Edit</a>
                        <a href="/crud/delete/<%= data[i].id %>" class="btn btn-danger">Delete</a>
                    </td>
                </tr>
                    <% } %>
                <% } %>
            </tbody>
            </table>
        </div>

        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <form action="/crud/add" method="post">
                        <div class="form-group">
                            <input type="text" name="restaurantName" placeholder="Restaurant" class="form-control"
                                autofocus required>
                        </div>
                        <div class="form-group">
                            <input type="text" name="city" placeholder="City" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <input type="text" name="address" placeholder="Address" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <select name="rating" class="form-control" required>
                                <option selected disabled>Rating</option>
                                <option>*</option>
                                <option>**</option>
                                <option>***</option>
                                <option>****</option>
                                <option>*****</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <textarea name="review" placeholder="Review" class="md-textarea form-control" rows="3"
                            required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Add Restaurant</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


<form action="/logout?_method=DELETE" method="POST">
    <button type="submit">Log Out</button>
  </form>